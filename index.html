<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>reveal.js</title>

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/black.code.css">
	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- gitgraph.js -->
	<script src="bower_components/gitgraph.js/src/gitgraph.js"></script>
	<link rel="stylesheet" type="text/css" href="bower_components/gitgraph.js/src/gitgraph.css" />

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>

<script>
		var graphConfig = new GitGraph.Template({
			branch: {
				color: "#999",
				lineWidth: 3,
				spacingX: 60,
				mergeStyle: "straight",
				showLabel: true,                // display branch names on graph
				labelFont: "normal 10pt Arial",
				labelRotation: 0
			},
			commit: {
				spacingY: -70,
				dot: {
					size: 16,
					// strokeColor: "#999",
					strokeWidth: 0
				},
				tag: {
					font: "normal 10pt Arial",
					color: "yellow"
				},
				message: {
					color: "#999",
					font: "normal 12pt Arial",
					displayAuthor: false,
					displayBranch: false,
					displayHash: false,
				}
			},
			arrow: {
				size: 8,
				offset: 0
			}
		});
		var graphConfigSmall = new GitGraph.Template({
			branch: {
				color: "#999",
				lineWidth: 3,
				spacingX: 30,
				mergeStyle: "straight",
				showLabel: false,
				labelRotation: 0
			},
			commit: {
				spacingY: -50,
				dot: {
					size: 12,
					// strokeColor: "#999",
					strokeWidth: 0
				},
				tag: {
					font: "normal 10pt Arial",
					color: "yellow"
				},
				message: {
					color: "#999",
					font: "normal 12pt Arial",
					displayAuthor: false,
					displayBranch: false,
					displayHash: false,
				}
			},
			arrow: {
				size: 8,
				offset: 0
			}
		});



		// You can manually fix columns to control the display.
		var featureCol = 0;
		var developCol = 1;
		var releaseCol = 2;
		var supportCol = 3;
		var masterCol = 4;
</script>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<!-- **************************       Intro         ************************** -->
			<section class="middle">
				<section data-transition="slide">
					<h1>git ready</h1>
					<aside class="notes">I liked Nava's idea of #click# "git master"</aside>
				</section>
				<section data-transition="slide">
					<h1>git master</h1>
					<aside class="notes">Does anyone consider themselves git master? (take a quiet rest, but pretend to be interested ;-))</aside>
				</section>
				<!--<section data-transition="slide">
					<h1>git master</h1>
					<aside class="notes">... but I'm not. Original idea was #click#</aside>
				</section>
				<section data-transition="slide">
					<h2>hard won lessons</h2>
					<h2>with git</h2>
					<aside class="notes">... but why pass up a pun :-)</aside>
				</section>-->
				<section data-transition="slide">
					<h2>hard won lessons</h2>
					<h2>with git</h2>
					<aside class="notes">Not a master, but here are the things I think I've figured out as a former TFS/SVN user</aside>
				</section>
				<section data-transition="slide">
					<h1>git ready</h1>
					<p>git theory in 5 minutes.</p>
					<p>hold on to your hats...</p>
					<aside class="notes">
						<p>This is just git theory/concepts (not command usage!)</p>
						<p>Buckle up ;-)</p>
					</aside>
				</section>
			</section>
			<!-- **************************       Recap         ************************** -->
			<section>
				<section class="middle">
					<h1>git recap</h1>
					<aside class="notes">High speed recap on git concepts</aside>
				</section>
				<section class="middle">
					<h1>git recap</h1>
					<p>at x2 speed</p>
					<aside class="notes">High speed recap on git concepts</aside>
				</section>
				<section class="left">
					<h2>commits</h2>
					<canvas id="gitrecap-commits-big"></canvas>
					<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-commits-big",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit().commit().commit().commit().commit().commit().commit().commit().commit();
					</script>
<aside class="notes">Each commit has parent and diffs. Linear like this is great... but doesn't happen in teams ;-)</aside>
</section>
<section class="left">
	<h2>commits and branches</h2>
	<canvas id="gitrecap-commits-big2"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfigSmall,
							elementId: "gitrecap-commits-big2",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var a = master.branch();
						var b = master.branch();
						a.commit();
						b.commit().commit();
						a.commit();
						var c = b.branch().commit().commit();
						a.merge(b);
						b.commit().commit();
						c.merge(b);
						b.commit();
						master.commit();
						a.commit()
						master.commit();
						b.merge(a);
						a.merge(master);
	</script>
<aside class="notes">
	<p>More likely to end up with something like this!</p>
	<p>Each dot is a commit: parent and changes. Good to keep this in mind for the next few minutes!</p>
</aside>
</section>
<section class="left">
	<h2>commits and branches</h2>
	<canvas id="gitrecap-commits"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-commits",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit()
							.commit();
	</script>
<aside class="notes">Strip it back...</aside>
</section>
<section class="left">
	<h2>commits and branches</h2>
	<canvas id="gitrecap-commits2"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-commits2",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						master.branch("branch1").commit();

	</script>
<aside class="notes">create a branch. Now two pointers, each can advance independently</aside>
</section>
<section class="left">
	<h2>commits and branches</h2>
	<canvas id="gitrecap-commits3"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-commits3",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						master.branch("branch1").commit();
						master.commit();

	</script>
<aside class="notes">...</aside>
</section>
<section class="left">
	<h2>commits and branches</h2>
	<canvas id="gitrecap-commits4"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-commits4",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("branch1");
						branch1.commit();
						master.commit();
						branch1.commit();
	</script>
<aside class="notes">
	<p>But now we branches that have diverged. To combine we can use a merge commit...</p>
</aside>
</section>
<section class="left">
	<h2>merging</h2>
	<canvas id="gitrecap-merge"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-merge",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("branch1");
						branch1.commit();
						master.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
						branch1.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
	</script>
<aside class="notes">
	<p>Want to merge branch1 into master (highlighted)</p>
</aside>
</section>
<section class="left">
	<h2>merging</h2>
	<canvas id="gitrecap-merge2"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-merge2",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
						var branch1 = master.branch("branch1");
						branch1.commit();
						master.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
						branch1.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
	</script>
<aside class="notes">
	<p>3-way merge: branches and common ancestor (highlighted)</p>
</aside>
</section>
<section class="left">
	<h2>merging</h2>
	<canvas id="gitrecap-merged"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-merged",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("branch1");
						branch1.commit();
						master.commit();
						branch1.commit();
						branch1.merge(master);
	</script>
<aside class="notes">
	<p>Merge commit:</p>
	<p>git creates commit with 2 parents that combines all commits/diffs</p>
</aside>
</section>
</section>
<!-- **************************       workflows         ************************** -->
<section>
	<section class="middle">
		<h1>workflows</h1>
		<aside class="notes">Various approaches with git...</aside>
	</section>
	<section class="left">
		<h2>workflows</h2>
		<ul>
			<li>centralised
				<ul>
					<li>free for all</li>
					<li>branch per feature</li>
				</ul>
			</li>
			<li>de-centralised
				<ul>
					<li>forks and pull requests</li>
				</ul>
			</li>
			<li>("successful branching model")</li>
		</ul>
		<aside class="notes">
			<p>Various workflows. start simple :-)</p>
		</aside>
	</section>
</section>
<!-- **************************       workflow: free for all       ************************** -->
<section>
	<section class="middle">
		<h1>free for all</h1>
		<aside class="notes">
			<p>Single repo, all work in same branch</p>
			<p>Works as well in git as in any other source control ;-)</p>
		</aside>
	</section>
</section>
<!-- **************************       workflow: branch per feature       ************************** -->
<section>
	<section class="middle">
		<h1>branch per feature</h1>
	</section>
	<section class="left">
		<h2>branch per feature</h2>
		<canvas id="gitrecap-bpf-1"></canvas>
		<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-bpf-1",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						var branch2 = master.branch("feature2");
						branch1.commit();
						branch2.commit();
						branch1.commit();
						branch2.commit();
		</script>
<aside class="notes">
	<p>Each feature isolated... still cost of branches (staleness)</p>
	<p>now when we merge feature1 #click#</p>
</aside>
</section>
<section class="left">
	<h2>branch per feature</h2>
	<canvas id="gitrecap-bpf-2"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-bpf-2",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						var branch2 = master.branch("feature2");
						branch1.commit();
						branch2.commit();
						branch1.commit();
						branch1.merge(master);
						branch2.commit();
	</script>
<aside class="notes">
	<p>feature2 is drifting from master</p>
</aside>
</section>
<section class="left">
	<h2>branch per feature</h2>
	<canvas id="gitrecap-bpf-3"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-bpf-3",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						var branch2 = master.branch("feature2");
						branch1.commit();
						branch2.commit();
						branch1.commit();
						branch1.merge(master);
						branch2.commit();
						master.merge(branch2);
						branch2.commit();
	</script>
<aside class="notes">
	<p>Could merge master into feature 2 to resolve drift and continue</p>
</aside>
</section>
<section class="left">
	<h2>branch per feature</h2>
	<canvas id="gitrecap-bpf-4"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-bpf-4",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						var branch2 = master.branch("feature2");
						branch1.commit();
						branch2.commit();
						branch1.commit();
						branch1.merge(master);
						branch2.commit();
						master.merge(branch2);
						branch2.commit();
						master.commit();
	</script>
<aside class="notes">
	<p>Works!</p>
	<p>Can be harder to understand history over time</p>
</aside>
</section>
<section class="left">
	<h2>branch per feature</h2>
	<canvas id="gitrecap-bpf-5"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfigSmall,
							elementId: "gitrecap-bpf-5",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						var branch2 = master.branch("feature2");
						branch1.commit();
						branch2.commit();
						branch1.commit();
						var branch3 = master.branch("feature3");

						branch3.commit();
						branch1.merge(master);
						branch2.commit();
						branch3.commit();

						master.merge(branch2);
						master.merge(branch3);
						branch2.commit();
						master.commit();

						branch3.merge(master);
						branch2.commit();
						master.merge(branch2);
						branch2.commit();

						branch2.merge(master);						
	</script>
<aside class="notes">
	<p>Works!</p>
	<p>Can be harder to understand history over time</p>
</aside>
</section>
</section>
<!-- **************************       rebase         ************************** -->
<section>
	<section class="middle">
		<h1>git rebase</h1>
		<aside class="notes">
			<p>Alternative... git's secret sauce (IMO): rebase!</p>
		</aside>
	</section>
	<section class="left">
		<h1>git rebase</h1>
		<canvas id="gitrecap-rebase1"></canvas>
		<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-rebase1",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("branch1");
						branch1.commit();
						master.commit().commit();
						branch1.commit();
		</script>
<aside class="notes">
	<p>Let's come back to simple case...</p>
	<p>Have branch1, but master has moved on.</p>
	<p>This is where we merged to update branch1</p>
</aside>
</section>
<section class="left">
	<h1>git rebase</h1>
	<canvas id="gitrecap-rebase2"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-rebase2",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("branch1");
						branch1.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
						master.commit().commit();
						branch1.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
	</script>
<aside class="notes">
	<p>branch1 has two commits/changes</p>
	<p>git rebase lets us take then and apply to latest master...</p>
</aside>
</section>
<section class="left">
	<h1>git rebase</h1>
	<canvas id="gitrecap-rebased"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-rebased",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1Old = master.branch("branch1-old");
						branch1Old.commit({ dotStrokeWidth: 10, dotStrokeColor: "grey" });
						master.commit().commit();
						branch1Old.commit({ dotStrokeWidth: 10, dotStrokeColor: "grey" });
						var branch1 = master.branch({ name: "branch1", column: 1 });
						branch1.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
						branch1.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
	</script>
<aside class="notes">
	<p>Get the same end code, but cleaner history</p>
</aside>
</section>
<section class="middle">
	<h1>golden rule</h1>
	<p>don't rebase public branches</p>
</section>
<aside class="notes">
	<p>Don't rebase public/shared branches - you screw people over!</p>
</aside>
</section>
<!-- **************************       rebase applied        ************************** -->
<section>
	<section class="middle">
		<h1>git rebase</h1>
		<h2>...applied</h2>
		<aside class="notes">
			<p>So, that's the theory...</p>
		</aside>
	</section>
	<section class="left">
		<h2>branch per feature</h2>
		<canvas id="gitrecap-bpf-rebase1"></canvas>
		<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-bpf-rebase1",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						var branch2 = master.branch("feature2");
						branch1.commit();
						branch2.commit();
						branch1.commit();
						branch1.merge(master);
						branch2.commit();
						master.merge(branch2);
						branch2.commit();
						master.commit();
		</script>
<aside class="notes">
	<p>This was the merge-to-update scenario</p>
</aside>
</section>
<section class="left">
	<h2>branch per feature</h2>
	<canvas id="gitrecap-bpf-rebase2"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-bpf-rebase2",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						var branch2 = master.branch("feature2");
						branch1.commit();
						branch2.commit();
						branch1.commit();
						branch1.merge(master);
						branch2.commit();
						master.commit();
	</script>
<aside class="notes">
	<p>Take out the merge... need to sync with master...</p>
</aside>
</section>
<section class="left">
	<h2>branch per feature</h2>
	<canvas id="gitrecap-bpf-rebase3"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-bpf-rebase3",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						var branch2 = master.branch("feature2");
						branch1.commit();
						branch2.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
						branch1.commit();
						branch1.merge(master);
						branch2.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
						master.commit();
	</script>
<aside class="notes">
	<p>This was the merge-to-update</p>
</aside>
</section>
<section class="left">
	<h2>branch per feature</h2>
	<canvas id="gitrecap-bpf-rebase4"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-bpf-rebase4",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						var branch2old = master.branch("feature2-old");
						branch1.commit();
						branch2old.commit({ dotStrokeWidth: 10, dotStrokeColor: "grey" });
						branch1.commit();
						branch1.merge(master);
						branch2old.commit({ dotStrokeWidth: 10, dotStrokeColor: "grey" });
						master.commit();
						var branch2 = master.branch({ name: "feature2", column: 2 });
						branch2.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });
						branch2.commit({ dotStrokeWidth: 10, dotStrokeColor: "white" });

	</script>
<aside class="notes">
	<p>This was the merge-to-update</p>
</aside>
</section>
<section class="left">
	<h2>branch per feature</h2>
	<canvas id="gitrecap-bpf-rebase5"></canvas>
	<script>
						var gitgraph = new GitGraph({
							template: graphConfig,
							elementId: "gitrecap-bpf-rebase5",
							orientation: "horizontal",
							mode: "compact"
						});
						var master = gitgraph.branch("master");
						master.commit().commit();
						var branch1 = master.branch("feature1");
						branch1.commit();
						branch1.commit();
						branch1.merge(master);
						master.commit();
						var branch2 = master.branch({ name: "feature2", column: 1 });
						branch2.commit();
						branch2.commit();
						branch2.merge(master);
	</script>
<aside class="notes">
	<p>TNow when we merge we have a nice clean history</p>
</aside>
</section>
</section>
<!-- **************************       wrap up         ************************** -->
<section>
	<section class="middle">
		<h1>So...</h1>
		<aside class="notes">
			<p>what next?</p>
		</aside>
	</section>
	<section class="left">
		<h2>Notes...</h2>
		<h6>Branching, merging, rebasing</h6>
		<ul class="small">
			<li><a class="small" href="https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging">https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging</a></li>
			<li><a class="small" href="https://git-scm.com/docs/git-rebase">https://git-scm.com/docs/git-rebase</a></li>
			<li><a class="small" href="https://www.atlassian.com/git/tutorials/merging-vs-rebasing">https://www.atlassian.com/git/tutorials/merging-vs-rebasing</a></li>
		</ul>
		<h6>Workflows</h6>
		<ul class="small">
			<li><a class="small" href="https://guides.github.com/introduction/flow/">https://guides.github.com/introduction/flow/</a></li>
			<li><a class="small" href="https://www.atlassian.com/git/tutorials/comparing-workflows">https://www.atlassian.com/git/tutorials/comparing-workflows</a></li>
			<!--<li><a class="small" href=""></a></li>-->
		</ul>
		<h6>Aliases</h6>
		<ul class="small">
			<li><a class="small" href="http://haacked.com/archive/2014/07/28/github-flow-aliases/">http://haacked.com/archive/2014/07/28/github-flow-aliases/</a></li>
			<li><a class="small" href="http://haacked.com/archive/2015/06/29/git-migrate/">http://haacked.com/archive/2015/06/29/git-migrate/</a></li>
		</ul>
		<aside class="notes">
			<p>Some links for more info, details on commands, ...</p>
		</aside>
	</section>
	<section class="middle">
		<h2><a href="http://git-ready.faux.ninja">git-ready.faux.ninja</a></h2>
		<aside class="notes">
			<p>Here's a link to the presentation :-)</p>
		</aside>
	</section>
</section>
</div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
						// More info https://github.com/hakimel/reveal.js#configuration
						Reveal.initialize({
							history: true,
							transition: "fade",
							// More info https://github.com/hakimel/reveal.js#dependencies
							dependencies: [
								{ src: 'plugin/markdown/marked.js' },
								{ src: 'plugin/markdown/markdown.js' },
								{ src: 'plugin/notes/notes.js', async: true },
								{ src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } }
							]
						});
</script>
</body>

</html>